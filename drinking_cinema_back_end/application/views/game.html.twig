{% extends _layout %}

{% block body %}
    <div class="dc-game">
        {% embed 'controllers/header.html' %}
            {% block subheader %}
                {% include '_subtemplates/dc-share-input.html' %}
            {% endblock %}
        {% endembed %}
        {% include 'controllers/game.html' %}
        {% include 'controllers/comments.html' %}
    </div>
    <script type="dc-template" id="dc-controller-header-template">
        {{ source('controllers/header.html') }}
    </script>
    <script type="dc-template" id="dc-controller-game-template">
        {{ source('controllers/game.html') }}
    </script>
    <script type="dc-template" id="dc-controller-comments-template">
        {{ source('controllers/comments.html') }}
    </script>
    <script type="dc-template" id="dc-controller-search-template">
        {{ source('controllers/search.html') }}
    </script>
    <script type="dc-template" id="dc-directive-search-input-template">
        {{ source('directives/dc-directive-search-input.html') }}
    </script>
    <script type="dc-template" id="dc-nav-bar-template">
        {{ source('_subtemplates/dc-nav-bar.html') }}
    </script>
    <script type="dc-template" id="dc-share-input-template">
        {{ source('_subtemplates/dc-share-input.html') }}
    </script>
    <script type="dc-template" id="dc-game-template">
        {{ source('_subtemplates/dc-game-desktop.html') }}
    </script>
    <script type="dc-template" id="dc-directive-game-image-template">
        {{ source('directives/dc-directive-game-image.html') }}
    </script>
    <script type="dc-template" id="dc-directive-embed-game-template">
        {{ source('directives/dc-directive-embed-game.html') }}
    </script>
    <script type="dc-template" id="dc-social-media-template">
        {{ source('_subtemplates/dc-social-media.html') }}
    </script>
    <script type="dc-template" id="dc-vendors-template">
        {{ source('_subtemplates/dc-vendors-desktop.html') }}
    </script>
    <script type="dc-template" id="dc-game-suggestions-template">
        {{ source('_subtemplates/dc-game-suggestions-desktop.html') }}
    </script>
    <script type="dc-template" id="dc-comment-form-template">
        {{ source('_subtemplates/dc-comment-form-desktop.html') }}
    </script>
    <script type="dc-template" id="dc-directive-tooltip-template">
        {{ source('directives/dc-directive-tooltip.html') }}
    </script>
    <script type="dc-template" id="dc-directive-input-template">
        {{ source('directives/dc-directive-input.html') }}
    </script>
    <script type="dc-template" id="dc-tooltip-text-template">
        {{ source('_subtemplates/dc-tooltip-text.html') }}
    </script>
    <script type="dc-template" id="dc-tooltip-image-template">
        {{ source('_subtemplates/dc-tooltip-image.html') }}
    </script>
    <script type="dc-template" id="dc-directive-infinite-scroll-template">
        {{ source('directives/dc-directive-infinite-scroll.html') }}
    </script>
    <script type="dc-template" id="dc-directive-comment-template">
        {{ source('directives/dc-directive-comment.html') }}
    </script>
    {% if page.isAdmin %}
        <script type="dc-template" id="dc-directive-game-image-admin-template">
            {{ source('directives/dc-directive-game-image-admin.html') }}
        </script>
        <script type="dc-template" id="dc-directive-editable-template">
            {{ source('directives/dc-directive-editable.html') }}
        </script>
        <script type="dc-template" id="dc-directive-modal-template">
            {{ source('directives/dc-directive-modal.html') }}
        </script>
        <script type="dc-template" id="dc-directive-editable-modal-template">
            {{ source('directives/dc-directive-editable-modal.html') }}
        </script>
        <script type="dc-template" id="dc-directive-upload-thumbnail-template">
            {{ source('directives/dc-directive-upload-thumbnail.html') }}
        </script>
        <script type="dc-template" id="dc-directive-preview-thumbnail-modal-template">
            {{ source('directives/dc-directive-preview-thumbnail-modal.html') }}
        </script>
        <script type="dc-template" id="dc-directive-upload-image-template">
            {{ source('directives/dc-directive-upload-image.html') }}
        </script>
        <script type="dc-template" id="dc-directive-preview-image-modal-template">
            {{ source('directives/dc-directive-preview-image-modal.html') }}
        </script>
        <script type="dc-template" id="dc-search-item-template">
            {{ source('_subtemplates/dc-search-item-desktop.html') }}
        </script>
        <script type="dc-template" id="dc-infinite-scroll-comments-template">
            {{ source('_subtemplates/dc-infinite-scroll-comments-admin.html') }}
        </script>
        <script type="dc-template" id="dc-remove-comment-modal-template">
            {{ source('_subtemplates/dc-remove-comment-modal.html') }}
        </script>
    {% else %}
        <script type="dc-template" id="dc-infinite-scroll-comments-template">
            {{ source('_subtemplates/dc-infinite-scroll-comments.html') }}
        </script>
    {%  endif %}
    <script type="text/javascript" id="dc-page-json">
        this.pageJSON = {{(page|json_encode)}};
    </script>
{% endblock %}
