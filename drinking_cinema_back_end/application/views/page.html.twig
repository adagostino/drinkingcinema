{% extends _layout %}

{% block body %}
    {% embed 'controllers/header.html' %}
        {% block subheader %}
            {% include '_subtemplates/dc-additional-pages-subheader.html' %}
        {% endblock %}
    {% endembed %}
    {% include 'controllers/page.html' %}
    {% include 'controllers/comments.html' %}
    <script type="dc-template" id="dc-controller-header-template">
        {{ source('controllers/header.html') }}
    </script>
    <script type="dc-template" id="dc-controller-page-template">
        {{ source('controllers/page.html') }}
    </script>
    <script type="dc-template" id="dc-controller-comments-template">
        {{ source('controllers/comments.html') }}
    </script>
    <script type="dc-template" id="dc-nav-bar-template">
        {{ source('_subtemplates/dc-nav-bar.html') }}
    </script>
    <script type="dc-template" id="dc-share-input-template">
        {{ source('_subtemplates/dc-share-input.html') }}
    </script>
    <script type="dc-template" id="dc-additional-pages-subheader-template">
        {{ source('_subtemplates/dc-additional-pages-subheader.html') }}
    </script>
    <script type="dc-template" id="dc-social-media-template">
        {{ source('_subtemplates/dc-social-media.html') }}
    </script>
    <script type="dc-template" id="dc-comment-form-template">
        {{ source('_subtemplates/dc-comment-form-desktop.html') }}
    </script>
    <script type="dc-template" id="dc-directive-input-template">
        {{ source('directives/dc-directive-input.html') }}
    </script>
    <script type="dc-template" id="dc-tooltip-image-template">
        {{ source('_subtemplates/dc-tooltip-image.html') }}
    </script>
    <script type="dc-template" id="dc-directive-infinite-scroll-template">
        {{ source('directives/dc-directive-infinite-scroll.html') }}
    </script>
    <script type="dc-template" id="dc-directive-comment-template">
        {{ source('directives/dc-directive-comment.html') }}
    </script>
    {% if page.isAdmin %}
        <script type="dc-template" id="dc-directive-editable-template">
            {{ source('directives/dc-directive-editable.html') }}
        </script>
        <script type="dc-template" id="dc-directive-modal-template">
            {{ source('directives/dc-directive-modal.html') }}
        </script>
        <script type="dc-template" id="dc-directive-editable-modal-template">
            {{ source('directives/dc-directive-editable-modal.html') }}
        </script>
        <script type="dc-template" id="dc-infinite-scroll-comments-template">
            {{ source('_subtemplates/dc-infinite-scroll-comments-admin.html') }}
        </script>
        <script type="dc-template" id="dc-remove-comment-modal-template">
            {{ source('_subtemplates/dc-remove-comment-modal.html') }}
        </script>
    {% else %}
        <script type="dc-template" id="dc-infinite-scroll-comments-template">
            {{ source('_subtemplates/dc-infinite-scroll-comments.html') }}
        </script>
    {%  endif %}
    <script type="text/javascript" id="dc-page-json">
        this.pageJSON = {{(page|json_encode)}};
    </script>
{% endblock %}
